# Medical Annotation Tool

A web-based human annotation platform designed to support validation of large-scale, silver-standard datasets generated by pre-trained language models. The tool streamlines the efficient review, correction, and standardization of phenotype extractions from colloquial, patient-reported health narratives. It is custom-built for research conducting systematic analyses of real-world health narratives, with an emphasis on rigor, reproducibility, and domain-specific precision.

## Overview

This tool enables annotators to:
- Review model extractions of medications and symptoms from patient narratives
- Correct, modify, and validate extracted information
- Track review progress across multiple annotators
- Export annotated datasets for future analysis

## Features

### Annotation Interface
- **Split-panel view** with original forum post and annotation form side-by-side
- **Source text highlighting** - hover over extracted fields to highlight corresponding text in the original post
- **Review tracking** - mark medications and symptoms as reviewed with visual indicators
- **Update capability** - re-edit previously reviewed records without losing review status
- **Unsaved changes detection** - prevents accidental data loss during navigation

### Data Management
- **Multi-annotator support** - each annotator has independent progress tracking
- **Auto-save modifications** - changes are saved to Supabase in real-time
- **Progress persistence** - automatically resumes from first unreviewed record on login
- **Dual export options**:
  - Modified records only (hybrid dataset)
  - All records (full dataset with original + modifications)

### Admin Dashboard
- Monitor completion progress across all annotators
- View review counts and modification statistics
- Export annotated datasets per annotator
- Track join dates and activity

## Tech Stack

- **Frontend**: React 18 + Vite
- **Database**: Supabase (PostgreSQL)
- **Styling**: Inline React styles with component-based design
- **State Management**: React hooks (useState, useEffect, useCallback)

## Project Structure

```
src/
├── components/
│   ├── AnnotationForm.jsx       # Main form container
│   ├── MedicationCard.jsx        # Individual medication editor
│   ├── SymptomCard.jsx          # Individual symptom editor
│   ├── BottomReviewBar.jsx      # Review status & navigation
│   ├── FormFields.jsx           # Reusable form components
│   └── OnsetTimingPanel.jsx     # Onset timing subsection
├── pages/
│   ├── Login.jsx                # Annotator selection
│   ├── Annotate.jsx            # Main annotation interface
│   └── Admin.jsx               # Admin dashboard
├── hooks/
│   └── useAnnotation.js        # Annotation state management
├── utils/
│   └── templates.js            # Field options & templates
└── mockData.js                 # Sample forum posts (dev)
```

## Development

```bash
# Run development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview
```

## Future Enhancements

- [ ] Inter-annotator agreement metrics
- [ ] Advanced search and filtering

## License

TBD

